<template>
  <div class="flex flex-col">
    <div class="flex items-center justify-center ">
      <div class="w-full mx-auto rounded-sm bg-greyone p-3 text-black">
        <div class="bg-white border border-greytwo overflow-hidden rounded-sm">
          <div class="w-full flex border-b border-gray-200 text-xl text-greytwo">
            <button class="outline-none focus:outline-none border-r border-gray-200 w-10 h-10 p-2 hover:text-indigo-500 active:bg-gray-50" @click="format('bold')">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M 13.5 5 A 3.50035 3.50035 0 0 0 10 9.0625 L 10 38.927734 A 3.50035 3.50035 0 0 0 13.5 43 L 28.5 43 C 34.809806 43 40 37.809806 40 31.5 C 40 27.576304 37.869136 24.256752 34.833984 22.177734 C 36.094314 20.388971 37 18.333726 37 16 C 37 9.9663213 32.033679 5 26 5 L 13.5 5 z M 17 12 L 26 12 C 28.250321 12 30 13.749679 30 16 C 30 18.250321 28.250321 20 26 20 L 17.5 20 A 3.50035 3.50035 0 0 0 17 20.033203 L 17 12 z M 17 26.966797 A 3.50035 3.50035 0 0 0 17.255859 26.994141 A 3.50035 3.50035 0 0 0 17.5 27 L 26 27 L 28.5 27 C 31.026194 27 33 28.973806 33 31.5 C 33 34.026194 31.026194 36 28.5 36 L 17 36 L 17 26.966797 z"></path></svg>
            </button>
            <button class="outline-none focus:outline-none border-r border-gray-200 w-10 h-10 p-2 hover:text-indigo-500 active:bg-gray-50" @click="format('italic')">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M 29.439453 6.9824219 A 1.50015 1.50015 0 0 0 29.269531 7 L 18.5 7 A 1.50015 1.50015 0 1 0 18.5 10 L 27.310547 10 L 16.472656 38 L 8.5 38 A 1.50015 1.50015 0 1 0 8.5 41 L 17.251953 41 A 1.50015 1.50015 0 0 0 17.730469 41 L 29.5 41 A 1.50015 1.50015 0 1 0 29.5 38 L 19.689453 38 L 30.527344 10 L 37.5 10 A 1.50015 1.50015 0 1 0 37.5 7 L 29.748047 7 A 1.50015 1.50015 0 0 0 29.439453 6.9824219 z"></path></svg>
            </button>
            <button class="outline-none focus:outline-none border-r border-gray-200 w-10 h-10 p-2 mr-1 hover:text-indigo-500 active:bg-gray-50" @click="format('underline')">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M 10.476562 4.9785156 A 1.50015 1.50015 0 0 0 9 6.5 L 9 23.5 C 9 31.490585 15.509415 38 23.5 38 C 31.490585 38 38 31.490585 38 23.5 L 38 6.5 A 1.50015 1.50015 0 1 0 35 6.5 L 35 23.5 C 35 29.869415 29.869415 35 23.5 35 C 17.130585 35 12 29.869415 12 23.5 L 12 6.5 A 1.50015 1.50015 0 0 0 10.476562 4.9785156 z M 10.5 41 A 1.50015 1.50015 0 1 0 10.5 44 L 37.5 44 A 1.50015 1.50015 0 1 0 37.5 41 L 10.5 41 z"></path></svg>
            </button>
            <button class="outline-none focus:outline-none border-l border-r border-gray-200 p-2 w-10 h-10 hover:text-indigo-500 active:bg-gray-50" @click="format('formatBlock','P')">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M 25.476562 3.9785156 A 1.50015 1.50015 0 0 0 25.259766 4 L 18.5 4 C 12.718499 4 8 8.7184991 8 14.5 C 8 20.281501 12.718499 25 18.5 25 L 24 25 L 24 41.5 A 1.50015 1.50015 0 1 0 27 41.5 L 27 23.746094 A 1.50015 1.50015 0 0 0 27 23.259766 L 27 7 L 31 7 L 31 41.5 A 1.50015 1.50015 0 1 0 34 41.5 L 34 7 L 34.5 7 A 1.50015 1.50015 0 1 0 34.5 4 L 32.746094 4 A 1.50015 1.50015 0 0 0 32.259766 4 L 25.746094 4 A 1.50015 1.50015 0 0 0 25.476562 3.9785156 z M 18.5 7 L 24 7 L 24 22 L 18.5 22 C 14.339501 22 11 18.660499 11 14.5 C 11 10.339501 14.339501 7 18.5 7 z"></path></svg>
            </button>
            <button class="outline-none focus:outline-none border-r border-gray-200 w-10 h-10 p-2 hover:text-indigo-500 active:bg-gray-50" @click="format('formatBlock','H1')">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M 5.9550781 5.9570312 A 3.0003 3.0003 0 0 0 3 9 L 3 39 A 3.0003 3.0003 0 1 0 9 39 L 9 27 L 22 27 L 22 39 A 3.0003 3.0003 0 1 0 28 39 L 28 9 A 3.0003 3.0003 0 1 0 22 9 L 22 21 L 9 21 L 9 9 A 3.0003 3.0003 0 0 0 5.9550781 5.9570312 z M 41.955078 5.9570312 A 3.0003 3.0003 0 0 0 40.259766 6.515625 L 32.658203 10.316406 A 3.0003493 3.0003493 0 1 0 35.341797 15.683594 L 39 13.855469 L 39 39 A 3.0003 3.0003 0 1 0 45 39 L 45 9.4335938 A 3.0003 3.0003 0 0 0 43.662109 6.4609375 A 3.0003 3.0003 0 0 0 43.65625 6.4570312 A 3.0003 3.0003 0 0 0 43.455078 6.3359375 A 3.0003 3.0003 0 0 0 43.449219 6.3339844 A 3.0003 3.0003 0 0 0 41.955078 5.9570312 z"></path></svg>
            </button>
            <button class="outline-none focus:outline-none border-r border-gray-200 w-10 h-10 p-2 hover:text-indigo-500 active:bg-gray-50" @click="format('formatBlock','H2')">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M 6.4628906 11.964844 A 2.50025 2.50025 0 0 0 4 14.5 L 4 33.5 A 2.50025 2.50025 0 1 0 9 33.5 L 9 27 L 18 27 L 18 33.5 A 2.50025 2.50025 0 1 0 23 33.5 L 23 14.5 A 2.50025 2.50025 0 1 0 18 14.5 L 18 22 L 9 22 L 9 14.5 A 2.50025 2.50025 0 0 0 6.4628906 11.964844 z M 35.5 12 C 30.835165 12 27 15.835165 27 20.5 A 2.50025 2.50025 0 1 0 32 20.5 C 32 18.536835 33.536835 17 35.5 17 C 37.463165 17 39 18.536835 39 20.5 C 39 22.105027 38.677789 22.459611 38.058594 22.957031 C 37.439398 23.454452 36.223204 23.916921 34.707031 24.423828 C 33.190859 24.930735 31.364246 25.493339 29.740234 26.896484 C 28.116223 28.29963 27 30.644852 27 33.5 A 2.50025 2.50025 0 0 0 29.5 36 L 42.5 36 A 2.50025 2.50025 0 1 0 42.5 31 L 32.759766 31 C 32.851026 30.90435 32.903977 30.771089 33.009766 30.679688 C 33.635754 30.138832 34.809141 29.662109 36.292969 29.166016 C 37.776796 28.669923 39.560602 28.165548 41.191406 26.855469 C 42.822211 25.545389 44 23.252473 44 20.5 C 44 15.835165 40.164835 12 35.5 12 z"></path></svg>
            </button>
            <button class="outline-none focus:outline-none border-r border-gray-200 w-10 h-10 p-2 mr-1 hover:text-indigo-500 active:bg-gray-50" @click="format('formatBlock','H3')">
                <svg class="" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M 9.9707031 13.972656 A 2.0002 2.0002 0 0 0 8 16 L 8 32 A 2.0002 2.0002 0 1 0 12 32 L 12 26 L 19 26 L 19 32 A 2.0002 2.0002 0 1 0 23 32 L 23 16 A 2.0002 2.0002 0 1 0 19 16 L 19 22 L 12 22 L 12 16 A 2.0002 2.0002 0 0 0 9.9707031 13.972656 z M 33 14 C 29.471509 14 27.425781 16.765625 27.425781 16.765625 A 2.0004617 2.0004617 0 1 0 30.574219 19.234375 C 30.574219 19.234375 31.664491 18 33 18 C 34.127968 18 35 18.872032 35 20 C 35 21.127968 34.127968 22 33 22 A 2.0002 2.0002 0 0 0 32.408203 22.080078 A 2.0002 2.0002 0 0 0 32.21875 22.146484 A 2.0002 2.0002 0 0 0 31.865234 22.333984 A 2.0002 2.0002 0 0 0 31.304688 22.896484 A 2.0002 2.0002 0 0 0 31.005859 23.632812 A 2.0002 2.0002 0 0 0 30.978516 23.830078 A 2.0002 2.0002 0 0 0 30.972656 24.029297 A 2.0002 2.0002 0 0 0 30.984375 24.230469 A 2.0002 2.0002 0 0 0 31.017578 24.427734 A 2.0002 2.0002 0 0 0 31.070312 24.619141 A 2.0002 2.0002 0 0 0 31.230469 24.984375 A 2.0002 2.0002 0 0 0 31.337891 25.154297 A 2.0002 2.0002 0 0 0 31.916016 25.699219 A 2.0002 2.0002 0 0 0 32.275391 25.875 A 2.0002 2.0002 0 0 0 33 26 C 34.127968 26 35 26.872032 35 28 C 35 29.127968 34.127968 30 33 30 C 30.307679 30 29.847656 28.234375 29.847656 28.234375 A 2.0002 2.0002 0 1 0 26.152344 29.765625 C 26.152344 29.765625 28.178321 34 33 34 C 36.290032 34 39 31.290032 39 28 C 39 26.455935 38.366191 25.068369 37.392578 24 C 38.366191 22.931631 39 21.544065 39 20 C 39 16.709968 36.290032 14 33 14 z"></path></svg>
            </button>
            <button class="outline-none focus:outline-none border-l border-r border-gray-200 w-10 h-10 p-2 hover:text-indigo-500 active:bg-gray-50" @click="format('insertUnorderedList')">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M 6.5 12 A 2.5 2.5 0 0 0 6.5 17 A 2.5 2.5 0 0 0 6.5 12 z M 13.5 13 A 1.50015 1.50015 0 1 0 13.5 16 L 42.5 16 A 1.50015 1.50015 0 1 0 42.5 13 L 13.5 13 z M 6.5 22 A 2.5 2.5 0 0 0 6.5 27 A 2.5 2.5 0 0 0 6.5 22 z M 13.5 23 A 1.50015 1.50015 0 1 0 13.5 26 L 42.5 26 A 1.50015 1.50015 0 1 0 42.5 23 L 13.5 23 z M 6.5 32 A 2.5 2.5 0 0 0 6.5 37 A 2.5 2.5 0 0 0 6.5 32 z M 13.5 33 A 1.50015 1.50015 0 1 0 13.5 36 L 42.5 36 A 1.50015 1.50015 0 1 0 42.5 33 L 13.5 33 z"></path></svg>
            </button>
            <button class="outline-none focus:outline-none border-r border-gray-200 w-10 h-10 p-2 mr-1 hover:text-indigo-500 active:bg-gray-50" @click="format('insertOrderedList')">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M 10.455078 5 A 1.50015 1.50015 0 0 0 10.025391 5.0761719 L 7.0253906 6.0761719 A 1.5008466 1.5008466 0 1 0 7.9746094 8.9238281 L 9 8.5820312 L 9 14.5 A 1.50015 1.50015 0 1 0 12 14.5 L 12 6.5 A 1.50015 1.50015 0 0 0 10.455078 5 z M 21.5 10 A 1.50015 1.50015 0 1 0 21.5 13 L 39.5 13 A 1.50015 1.50015 0 1 0 39.5 10 L 21.5 10 z M 10.103516 18 C 8.6035152 18 7.4741863 18.825126 6.8828125 19.5625 C 6.2914387 20.299874 6.0644531 21.066406 6.0644531 21.066406 A 1.50015 1.50015 0 1 0 8.9355469 21.933594 C 8.9355469 21.933594 9.01203 21.700126 9.2226562 21.4375 C 9.4332826 21.174874 9.6035152 21 10.103516 21 C 10.515994 21 10.590942 21.09301 10.744141 21.300781 C 10.897339 21.508551 11 21.90349 11 22.078125 C 11 22.48303 10.92 22.605915 10.658203 22.867188 C 10.396407 23.12846 9.903297 23.431427 9.3046875 23.744141 C 8.706078 24.056854 8.0152768 24.371007 7.3476562 24.902344 C 6.6800358 25.433681 6 26.378097 6 27.5 A 1.50015 1.50015 0 0 0 7.5 29 L 13.5 29 A 1.50015 1.50015 0 1 0 13.5 26 L 11.289062 26 C 11.786964 25.720558 12.296111 25.472454 12.779297 24.990234 C 13.455001 24.315882 14 23.26722 14 22.078125 C 14 21.24476 13.770004 20.351215 13.158203 19.521484 C 12.546402 18.691754 11.423038 18 10.103516 18 z M 21.5 23 A 1.50015 1.50015 0 1 0 21.5 26 L 39.5 26 A 1.50015 1.50015 0 1 0 39.5 23 L 21.5 23 z M 10.103516 32 C 7.881556 32 6.4433594 33.435547 6.4433594 33.435547 A 1.50015 1.50015 0 1 0 8.5566406 35.564453 C 8.5566406 35.564453 9.1354745 35 10.103516 35 C 10.50138 35 10.764915 35.122277 10.884766 35.21875 C 11.004616 35.315223 11 35.336114 11 35.404297 C 11 35.926885 10.91886 35.889303 10.886719 35.914062 C 10.854578 35.938823 10.679371 36 10.5 36 A 1.50015 1.50015 0 0 0 10.5 39 C 10.48398 39 11.032923 39.08499 11.300781 39.224609 C 11.568639 39.364233 11.5 39.302889 11.5 39.326172 C 11.5 39.58573 11.45695 39.631185 11.302734 39.751953 C 11.148515 39.872721 10.823641 40 10.412109 40 C 9.3791232 40 8.4277344 39.322266 8.4277344 39.322266 A 1.50015 1.50015 0 1 0 6.5722656 41.677734 C 6.5722656 41.677734 8.1610964 43 10.412109 43 C 11.391578 43 12.360313 42.733513 13.152344 42.113281 C 13.944374 41.493049 14.5 40.450614 14.5 39.326172 C 14.5 38.425548 14.039836 37.777167 13.507812 37.261719 C 13.798257 36.718766 14 36.100166 14 35.404297 C 14 34.40048 13.495525 33.468387 12.765625 32.880859 C 12.035725 32.293332 11.098652 32 10.103516 32 z M 21.5 36 A 1.50015 1.50015 0 1 0 21.5 39 L 39.5 39 A 1.50015 1.50015 0 1 0 39.5 36 L 21.5 36 z"></path></svg>
            </button>
            <button class="outline-none focus:outline-none border-l border-r border-gray-200 w-10 h-10 p-2 hover:text-indigo-500 active:bg-gray-50" @click="format('justifyLeft')">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M 5.5 10 A 1.50015 1.50015 0 1 0 5.5 13 L 34.5 13 A 1.50015 1.50015 0 1 0 34.5 10 L 5.5 10 z M 5.5 23 A 1.50015 1.50015 0 1 0 5.5 26 L 42.5 26 A 1.50015 1.50015 0 1 0 42.5 23 L 5.5 23 z M 6.5 36 A 1.50015 1.50015 0 1 0 6.5 39 L 27.5 39 A 1.50015 1.50015 0 1 0 27.5 36 L 6.5 36 z"></path></svg>
            </button>
            <button class="outline-none focus:outline-none border-r border-gray-200 w-10 h-10 p-2 hover:text-indigo-500 active:bg-gray-50" @click="format('justifyCenter')">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M 9.5 10 A 1.50015 1.50015 0 1 0 9.5 13 L 38.5 13 A 1.50015 1.50015 0 1 0 38.5 10 L 9.5 10 z M 5.5 23 A 1.50015 1.50015 0 1 0 5.5 26 L 42.5 26 A 1.50015 1.50015 0 1 0 42.5 23 L 5.5 23 z M 13.5 36 A 1.50015 1.50015 0 1 0 13.5 39 L 34.5 39 A 1.50015 1.50015 0 1 0 34.5 36 L 13.5 36 z"></path></svg>
            </button>
            <button class="outline-none focus:outline-none border-r border-gray-200 w-10 h-10 p-2 hover:text-indigo-500 active:bg-gray-50" @click="format('justifyRight')">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M 13.5 10 A 1.50015 1.50015 0 1 0 13.5 13 L 42.5 13 A 1.50015 1.50015 0 1 0 42.5 10 L 13.5 10 z M 5.5 23 A 1.50015 1.50015 0 1 0 5.5 26 L 42.5 26 A 1.50015 1.50015 0 1 0 42.5 23 L 5.5 23 z M 20.5 36 A 1.50015 1.50015 0 1 0 20.5 39 L 41.5 39 A 1.50015 1.50015 0 1 0 41.5 36 L 20.5 36 z"></path></svg>
            </button>
            </div>
            {{EditorContent.body}}
            <div class="w-full">
                <editor-content :editor="editor" class="w-full overflow-y-auto"/>
            </div>
        </div>
    </div>
</div>
  </div>
</template>

<script>
import { Editor, EditorContent } from '@tiptap/vue-3'
import StarterKit from '@tiptap/starter-kit'
export default {
  name: 'WritingEditor',
  data() {
    return {
      editor: null
    }
  },
  components: {
    EditorContent
  },
  methods: {

  },
  props: [
    "EditorContent"
  ],
  mounted() {
    this.editor = new Editor({
      content: this.EditorContent.body,
      extensions: [
        StarterKit
      ],
    })
  },
  beforeUnmount() {
    this.editor.destroy()
  },
  updated() {
    this.EditorContent.body = this.EditorContent.body
  }
}
</script>

<style>
.ProseMirror {
  margin-top: 1rem;
  padding: 1rem;
}
.ProseMirror:focus {
  outline: 2px solid transparent;
  outline-offset: 2px;
}
pre {
  background: #322d2d !important;
  color: #FFF;
  font-family: 'JetBrainsMono', monospace;
  padding: 0.75rem 1rem;
  border-radius: 0.5rem;
}
code {
      color: inherit;
      padding: 0;
      background: none;
      font-size: 0.5rem;
    }
</style>